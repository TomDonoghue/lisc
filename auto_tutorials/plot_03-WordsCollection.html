<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tutorial 03: Words Collection &#8212; lisc 0.1.1 documentation</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-dataframe.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js "></script>


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-172328255-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-172328255-1');
</script>


  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          lisc</a>
        <span class="navbar-text navbar-version pull-left"><b>0.1.1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../api.html">API</a></li>
                <li><a href="index.html">Tutorials</a></li>
                <li><a href="../auto_examples/index.html">Examples</a></li>
                <li><a href="https://github.com/lisc-tools/lisc">GitHub</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
            
            
              
                
              
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p>Click <a class="reference internal" href="#sphx-glr-download-auto-tutorials-plot-03-wordscollection-py"><span class="std std-ref">here</span></a>     to download the full example code</p>
</div>
<div class="sphx-glr-example-title section" id="tutorial-03-words-collection">
<span id="sphx-glr-auto-tutorials-plot-03-wordscollection-py"></span><h1>Tutorial 03: Words Collection<a class="headerlink" href="#tutorial-03-words-collection" title="Permalink to this headline">¶</a></h1>
<p>Collecting literature data, including text and metadata for specified search terms.</p>
<div class="section" id="words-analysis">
<h2>Words Analysis<a class="headerlink" href="#words-analysis" title="Permalink to this headline">¶</a></h2>
<p>Another way to analyze the literature is to collect text and meta-data from
all articles found for a given set of terms.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">lisc</span> <span class="k">import</span> <a href="../generated/lisc.Words.html#lisc.Words" title="lisc.Words" class="sphx-glr-backref-module-lisc sphx-glr-backref-type-py-class"><span class="n">Words</span></a>
<span class="kn">from</span> <span class="nn">lisc.utils.db</span> <span class="k">import</span> <a href="../generated/lisc.utils.SCDB.html#lisc.utils.SCDB" title="lisc.utils.SCDB" class="sphx-glr-backref-module-lisc-utils sphx-glr-backref-type-py-class"><span class="n">SCDB</span></a>
<span class="kn">from</span> <span class="nn">lisc.utils.io</span> <span class="k">import</span> <a href="../generated/lisc.utils.save_object.html#lisc.utils.save_object" title="lisc.utils.save_object" class="sphx-glr-backref-module-lisc-utils sphx-glr-backref-type-py-function"><span class="n">save_object</span></a>
</pre></div>
</div>
</div>
<div class="section" id="words-object">
<h2>Words Object<a class="headerlink" href="#words-object" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="../generated/lisc.Words.html#lisc.Words" title="lisc.Words"><code class="xref py py-class docutils literal notranslate"><span class="pre">Words</span></code></a> object is used to collect and analyze
text data and article metadata.</p>
<p>Search terms are specified to find articles of interest, from which text data
and meta-data is collected.</p>
<p>Note that the same approach for organizing search terms, including synonyms, inclusion
and exclusion words, is used as was introduced and described in the first tutorial.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set up some terms</span>
<span class="n">terms</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;brain&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;body&#39;</span><span class="p">]]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Initialize Words object and set the terms to search for</span>
<a href="../generated/lisc.Words.html#lisc.Words" title="lisc.Words" class="sphx-glr-backref-module-lisc sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">words</span></a> <span class="o">=</span> <a href="../generated/lisc.Words.html#lisc.Words" title="lisc.Words" class="sphx-glr-backref-module-lisc sphx-glr-backref-type-py-class"><span class="n">Words</span></a><span class="p">()</span>
<a href="../generated/lisc.Words.html#lisc.Words.add_terms" title="lisc.Words.add_terms" class="sphx-glr-backref-module-lisc sphx-glr-backref-type-py-method"><span class="n">words</span><span class="o">.</span><span class="n">add_terms</span></a><span class="p">(</span><span class="n">terms</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Collect words data</span>
<a href="../generated/lisc.Words.html#lisc.Words.run_collection" title="lisc.Words.run_collection" class="sphx-glr-backref-module-lisc sphx-glr-backref-type-py-method"><span class="n">words</span><span class="o">.</span><span class="n">run_collection</span></a><span class="p">(</span><span class="n">retmax</span><span class="o">=</span><span class="s1">&#39;5&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># The words object saves the collected data into a list of custom &#39;Articles&#39; objects</span>
<span class="nb">print</span><span class="p">(</span><a href="../generated/lisc.Words.html#lisc.Words" title="lisc.Words" class="sphx-glr-backref-module-lisc sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">words</span></a><span class="o">.</span><span class="n">results</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>[&lt;lisc.data.articles.Articles object at 0x1a1ab123d0&gt;, &lt;lisc.data.articles.Articles object at 0x1a1ab26750&gt;]
</pre></div>
</div>
<div class="section" id="lisc-data-objects">
<h3>LISC Data Objects<a class="headerlink" href="#lisc-data-objects" title="Permalink to this headline">¶</a></h3>
<p>LISC uses custom objects to store collected words data.</p>
<p>The <a class="reference internal" href="../generated/lisc.data.Articles.html#lisc.data.Articles" title="lisc.data.Articles"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Articles</span></code></a> object stores data for each article
collected from a given search term.</p>
<p>Collected data words data includes:</p>
<ul class="simple">
<li><p>titles</p></li>
<li><p>journals</p></li>
<li><p>authors</p></li>
<li><p>publication years</p></li>
<li><p>abstract text</p></li>
<li><p>keywords</p></li>
<li><p>DOIs</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Check out some of the collected words data</span>
<span class="nb">print</span><span class="p">(</span><a href="../generated/lisc.Words.html#lisc.Words" title="lisc.Words" class="sphx-glr-backref-module-lisc sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">words</span></a><span class="o">.</span><span class="n">results</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">n_articles</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><a href="../generated/lisc.Words.html#lisc.Words" title="lisc.Words" class="sphx-glr-backref-module-lisc sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">words</span></a><span class="o">.</span><span class="n">results</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">titles</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>0
[]
</pre></div>
</div>
</div>
</div>
<div class="section" id="word-collections">
<h2>Word Collections<a class="headerlink" href="#word-collections" title="Permalink to this headline">¶</a></h2>
<p>Depending on what the search terms are, collections of words articles can become quite large.</p>
<p>Because of this, you might want to use some of the available EUtils settings, and
LISC options to help control how the data collection is done.</p>
<p>In the next example, we’ll revisit the same search terms we used in the previous
<a class="reference internal" href="../generated/lisc.Counts.html#lisc.Counts" title="lisc.Counts"><code class="xref py py-class docutils literal notranslate"><span class="pre">Counts</span></code></a> analysis, and explore some of these settings.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set up some terms</span>
<span class="n">terms</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;frontal lobe&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;temporal lobe&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;parietal lobe&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;occipital lobe&#39;</span><span class="p">]]</span>
<a href="../generated/lisc.Words.html#lisc.Words.add_terms" title="lisc.Words.add_terms" class="sphx-glr-backref-module-lisc sphx-glr-backref-type-py-method"><span class="n">words</span><span class="o">.</span><span class="n">add_terms</span></a><span class="p">(</span><span class="n">terms</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Unloading previous terms words.
</pre></div>
</div>
<div class="section" id="eutils-settings">
<h3>EUtils Settings<a class="headerlink" href="#eutils-settings" title="Permalink to this headline">¶</a></h3>
<p>The Pubmed EUtils has several settings that can help control searches, including:</p>
<ul class="simple">
<li><p><cite>field</cite> : which part of the record to search for search results</p></li>
<li><p><cite>retmax</cite> : the maximum number of records to return for a given search</p></li>
<li><p><cite>usehistory</cite> : whether to temporarily store results remotely and use them for interim requests</p></li>
</ul>
<p>For some general guidelines:</p>
<ul class="simple">
<li><p>the <cite>field</cite> setting defaults to <cite>TIAB</cite> for titles and abstracts</p></li>
<li><p>the <cite>retmax</cite> should be set to some upper bound if your search terms are likely to
return a large number of articles.</p></li>
<li><p>the <cite>usehistory</cite> parameter should be set to True if you are running a large collection,
as this is more efficient.</p></li>
</ul>
</div>
<div class="section" id="word-collection-settings">
<h3>Word Collection Settings<a class="headerlink" href="#word-collection-settings" title="Permalink to this headline">¶</a></h3>
<p>If you are collecting data for a large number of search terms, and/or using search terms
that may return a large number of articles, then the <a class="reference internal" href="../generated/lisc.Words.html#lisc.Words" title="lisc.Words"><code class="xref py py-class docutils literal notranslate"><span class="pre">Words</span></code></a> collection can take a while,
and the amount of data can become quite large.</p>
<p>Because of this, the <a class="reference internal" href="../generated/lisc.Words.html#lisc.Words" title="lisc.Words"><code class="xref py py-class docutils literal notranslate"><span class="pre">Words</span></code></a>  object offers a setting of
how / when to save data.
The <cite>save_and_clear</cite> controls whether to save out collected data and clear per term,
and can be useful for large collections to not have to store all the collected data in RAM.</p>
<p>Now, let’s run our bigger collection, using some of these settings.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set up our database object, so we can save out data as we go</span>
<a href="../generated/lisc.utils.SCDB.html#lisc.utils.SCDB" title="lisc.utils.SCDB" class="sphx-glr-backref-module-lisc-utils sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">db</span></a> <span class="o">=</span> <a href="../generated/lisc.utils.SCDB.html#lisc.utils.SCDB" title="lisc.utils.SCDB" class="sphx-glr-backref-module-lisc-utils sphx-glr-backref-type-py-class"><span class="n">SCDB</span></a><span class="p">(</span><span class="s1">&#39;lisc_db&#39;</span><span class="p">)</span>

<span class="c1"># Collect words data</span>
<a href="../generated/lisc.Words.html#lisc.Words.run_collection" title="lisc.Words.run_collection" class="sphx-glr-backref-module-lisc sphx-glr-backref-type-py-method"><span class="n">words</span><span class="o">.</span><span class="n">run_collection</span></a><span class="p">(</span><span class="n">usehistory</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">retmax</span><span class="o">=</span><span class="s1">&#39;15&#39;</span><span class="p">,</span> <span class="n">save_and_clear</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">directory</span><span class="o">=</span><a href="../generated/lisc.utils.SCDB.html#lisc.utils.SCDB" title="lisc.utils.SCDB" class="sphx-glr-backref-module-lisc-utils sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">db</span></a><span class="p">)</span>
</pre></div>
</div>
<p>Note that at this point, our Words object does not actually include the collected data,
since we were saving and clearing the data out as we went.</p>
<p>The Words object does still have all the information about the Term data, and we
can use that to help manage and reload our data, so it’s still worth saving as well.</p>
<p>We will analyze our words data in the next tutorial, so for now lets save out the Words object.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Save out the words data</span>
<a href="../generated/lisc.utils.save_object.html#lisc.utils.save_object" title="lisc.utils.save_object" class="sphx-glr-backref-module-lisc-utils sphx-glr-backref-type-py-function"><span class="n">save_object</span></a><span class="p">(</span><a href="../generated/lisc.Words.html#lisc.Words" title="lisc.Words" class="sphx-glr-backref-module-lisc sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">words</span></a><span class="p">,</span> <span class="s1">&#39;tutorial_words&#39;</span><span class="p">,</span> <span class="n">directory</span><span class="o">=</span><a href="../generated/lisc.utils.SCDB.html#lisc.utils.SCDB" title="lisc.utils.SCDB" class="sphx-glr-backref-module-lisc-utils sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">db</span></a><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> ( 0 minutes  18.098 seconds)</p>
<div class="sphx-glr-footer class sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-tutorials-plot-03-wordscollection-py">
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../_downloads/139a43eef685f12de08b72ebf81360c6/plot_03-WordsCollection.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">plot_03-WordsCollection.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../_downloads/47ddd07660a54ae69b97682b69edef73/plot_03-WordsCollection.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">plot_03-WordsCollection.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2018-2020, Thomas Donoghue.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.1.0.<br/>
    </p>
  </div>
</footer>
  </body>
</html>